/**
     Std Javascript Library v0.3
     http://www.StdJS.com
*/
!function(e,t,r,n,i,a,o,u,s,l){var c,f,p,h,m,d,g,v,b,y,k,_,F,x,A,w,S,C,T=module.exports=e.Std=function(e,n){if(n===r&&a(e))return m(e);if(a(e)){var i=m(e);return i===t?t:p.malloc(i,Array.slice(arguments,1))}return t};T.version=.3,T.models={},T.modules={},T.eval=function(t){a(t)||T.debug({path:"Std.eval",description:" String contains an invalid character"});var r=e&&e.eval;return r?r(t):new Function(t)()},T.property=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!1}),e},"undefined"==typeof console&&(console={log:function(){},error:function(){}}),T.debug=function(e,t,n){if("undefined"==typeof console)throw e;if(u(t))return c(t,function(e,t){u(t)?T.debug.apply(T,t):T.debug.call(T,t)}),T;if(o(e))return"path"in e&&console.error("error from: ","["+e.path+"]"),"module"in e&&console.log("module: %c"+e.module,"color:green;font-weight: bold;"),"memberType"in e&&"memberName"in e&&console.log(e.memberType+" member: %c"+e.memberName,"color:green;font-weight: bold;"),"description"in e&&console.log("description: %c"+e.description,"color:green;font-weight: bold;"),"file"in e&&!l(e.file)&&console.log("file: %c"+e.file,"color:green;font-weight: bold;"),"line"in e&&console.log("line: %c"+e.line,"color:green;font-weight: bold;"),"position"in e&&console.log("position: %c"+e.position,"color:green;font-weight: bold;"),"data"in e&&console.log(e.data),"content"in e&&console.log("%c"+e.content,"color:#4D4D4D;"),T.debug.end(n),T;t===r&&(t={});var i="%c"+e,s="";if("size"in t&&(s+="font-size: "+t.size+"px;"),"bold"in t&&(s+="font-weight: bold;"),"underline"in t&&(s+="text-decoration: underline;"),"italic"in t&&(s+="font-style: italic;"),"color"in t&&(s+="color: "+t.color+";"),"background"in t&&(s+="background:"+t.background+";"),"css"in t)if(a(t.css))s+=t.css;else if(o(t.css))for(var f in t.css)t.css.hasOwnProperty(f)&&(s+=f+":"+t.css[f]+";");if("type"in t){if("error"===t.type)return console.error("Error:",e),T;if("info"===t.type)return console.info(i,s),T}return console.log(i,s),T},T.debug.level=1,T.debug.end=function(e){throw e||null},c=T.each=function(e,i,a,o){var s=t,l=typeof e;if(!e||!n(i))return t;if("string"===l&&(e=e.split(o===r?" ":o)),u(e)){a===!0&&(s=[]);for(var c=0,f=e.length;f>c;c++){var p=i.call(e,c,e[c]);if(p!==r){if(a!==!0)return p;s.push(p)}}}else if("object"===l||"function"===l){a===!0&&(s={});for(var h in e){var p=i.call(e,h,e[h]);if(p!==r){if(a!==!0)return p;s[h]=p}}}return s},f=T.extend=function(e,t,r,i){if(!e||!o(t)&&!n(t))return e;var a,l,c,p="__Std";switch(r){case 1:for(a in t)a.substr(0,5)!==p&&(l=t[a],c=e[a],u(l)?u(c)?e[a].mergeArray(l):e[a]=[].mergeArray(l):e[a]=l);break;case 2:for(a in t)l=t[a],c=e[a],l!==t&&a.substr(0,5)!==p&&(e[a]=s(l)&&s(c)&&!u(l)&&!u(c)?f(c,l,2):l);break;case 3:for(a in t)l=t[a],c=e[a],l!==t&&a.substr(0,5)!==p&&(u(l)?u(c)?e[a].mergeArray(l):e[a]=[].mergeArray(l):e[a]=s(l)&&s(c)&&!u(l)&&!u(c)?f(c,l,3):l);break;default:for(a in t)i===!1&&a in e||a.substr(0,5)!==p&&(e[a]=t[a])}return e},f(Math,{over:function(e,t){return 0===t?0:e/t},rand:function(e,t){return t===r?Math.random()*e:Math.random()*(t-e)+e},val:function(e,t,r){return"+"===t?e+=r:"-"===t?e-=r:"*"===t?e*=r:"/"===t?e/=r:e=r,e},check:function(e,t,n){var i=!1;if(""===t&&""===n)return!i;if(n==r)return i;switch(t){case">":i=float(e)>float(n);break;case"<":i=float(e)<float(n);break;case"=":case"==":i=e==n;break;case"===":i=e===n;break;case">=":i=float(e)>=float(n);break;case"<=":i=float(e)<=float(n);break;case"!=":i=e!==n;break;case"~=":i=(" "+e+" ").indexOf(n)>-1;break;case"^=":i=0==e.indexOf(n);break;case"$=":i=e.slice(-n.length)===n;break;case"*=":a(e)&&(i=e.indexOf(n)>-1);break;case"|=":i=e===n||e.slice(0,n.length+1)==n+"-"}return i}}),f(Object,{clear:function(e){for(var t in e)delete e[t];return e},keys:function(e){var t=[],r={}.hasOwnProperty;return T.each(e,function(n){r.call(e,n)&&t.push(n)}),t},contains:function(e,t){if(e===r||!t)return!1;if(e===t)return!0;var n=u(t),a=t.length;if(n||i(a))for(var o=0;a>o;o++)if(t[o]===e)return!0;return n?!1:e in t}},0,!1),f(Function.prototype,{bind:function(){var e=this,t=Array.prototype.slice,r=t.call(arguments),n=r.shift();return function(){return e.apply(n,r.concat(t.call(arguments)))}},iof:function(e){return e instanceof this}},0,!1),f(Array,{slice:function(e,t,r){return Array.prototype.slice.call(e,t,r)},from:function(e){var t,r=e.length;if(o(e))if(t=[],i(r))for(var n=0;r>n;n++)t[n]=e[n];else for(var u in e)t.push(e[u]);else a(e)&&(t=e.split(""));return t}},0,!1),f(Array.prototype,{each:function(e,t,r){return c.call(this,this,e,t,r)},has:function(e){return-1!==this.indexOf(e)},clear:function(){return this.remove()},insert:function(e,t){return!i(t)||-1===t||t>=this.length?this.push(e):this.splice(t,0,e),this},map:function(e,t){var r=this,i=[],a=Object.prototype.hasOwnProperty;return n(e)||T.debug({path:"Array",memberType:"public",memberName:"map",description:e+" is not a function"}),c(r,function(n,o){a.call(r,n)&&i.push(e.call(t,o,n,r))},!0),i},filter:function(e,t){var r=this,i=[],a=Object.prototype.hasOwnProperty;return n(e)||T.debug({path:"Array",memberType:"public",memberName:"filter",description:e+" is not a function"}),c(r,function(n,o){a.call(r,n)&&e.call(t,o,n,r)===!0&&i.push(o)},!0),i},last:function(){return this[this.length-1]},merge:function(){for(var e=0,t=arguments,r=t.length;r>e;e++)this.mergeArray(t[e]);return this},union:function(){for(var e=0,t=arguments,r=t.length;r>e;e++)this.mergeArray(t[e],!0);return this},push_uniq:function(e){var t=this;return t.has(e)||t.push(e),t},limit:function(e,t){var n=[],i=this.length,a=0,o=0;if(t===r?o=e:(a=e,o=e+t),i>a)for(o=o>=i?i:o;o>a;a++)n.push(this[a]);return n},swap:function(e,t){var r=this,n=r[e];return r[e]=r[t],r[t]=n,r},indexOf:function(e,t){var n=this,i=n.length;for(t=t===r?0:t;i>t;t++)if(e===n[t])return t;return-1},move:function(e,t){var r=this,n=r.length;if(e!==t&&e>=0&&n>=e&&t>=0&&n>=t){var i=r[e];if(t>e)for(;t>e;)r[e]=r[++e];else for(;e>t;)r[e]=r[--e];r[t]=i}return r},unique:function(){for(var e=this,t=e.length,r=[],n=0,i=0;t>i;i++)-1==r.indexOf(e[i])&&(r[n++]=e[i]);for(var a=0;n>a;a++)e[a]=r[a];return e.length=n,e},mergeArray:function(e,t){var r=this;if(o(e))for(var n=e.length||0,i=0;n>i;i++)t===!0&&r.has(e[i])||r.push(e[i]);return r},remove:function(e,t){var n=this;if(e===r)n.length=0;else if(i(e))n.splice(e,t||1);else if(u(e)){for(var a=[],o=0,s=n.length;s>o;o++){var l=e.indexOf(o);-1===l?a.push(n[o]):e.splice(l,1)}for(o=0,s=n.length=a.length;s>o;o++)n[o]=a[o]}return n}},0,!1),f(String.prototype,{trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},isNumber:function(){return y.number(this)},capitalize:function(){return this.charAt(0).toUpperCase()+this.substr(1)},has:function(e){return-1!==this.indexOf(e)},left:function(e){return i(e)||T.debug({path:"String.prototype",memberName:"left",description:"illegal parameter"}),this.substr(0,e)},right:function(e){return i(e)||T.debug({path:"String.prototype",memberName:"right",description:"illegal parameter"}),this.substring(this.length-e)},retype:function(){var e=this.toString();return"true"===e?e=!0:"false"===e?e=!1:"null"===e?e=t:y.number(e)&&(e=int(e)),e},byteLen:function(){for(var e=this,t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&2047>=n?t++:n>2047&&65535>=n&&(t+=2)}return t},between:function(e,r,n){var o=this,u=i(e)?e:o.indexOf(e,n),s=i(r)?r:o.indexOf(r,u+e.length);return-1===u||-1===s?t:(a(e)&&(u+=e.length),o.substring(u,s))},reverse:function(){for(var e="",t=this.length-1;t>=0;t--)e+=this.charAt(t);return e},toObject:function(){var e=this.trim();if(e.length<2)return t;var r=e.charAt(0),n=e.substring(e.length-1);if("["==r&&"]"==n||"{"==r&&"}"==n)try{return new Function("return "+e)()}catch(i){T.debug({path:"String",memberType:"prototype",memberName:"toObject",description:i.message},null,e)}return t},count:function(e){var t=0,n=this,i=-1;if(e===r)return n.length;for(a(e)||T.debug({path:"String.prototype",memberName:"count",description:"illegal parameter"});-1!=(i=n.indexOf(e,i+1));)t++;return t},line:function(e,t){i(e)||T.debug({path:"String.prototype",memberName:"line",description:"illegal parameter"});var r=0,n=this.toString(),a=-1;do if(++r===e){var o=n.indexOf("\n",a+1);return t===!0?a+1:n.substring(r>0?a+1:a,-1==o?n.length:o)}while(-1!=(a=n.indexOf("\n",a+1)));return null},camelCase:function(e){var t=this;return e===!0&&(t=t.capitalize()),-1!=t.indexOf("-")?t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}):t.toString()},unCamelCase:function(){return this.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},utf8Encode:function(){return unescape(encodeURIComponent(this))},utf8Decode:function(){try{return decodeURIComponent(escape(this))}catch(e){return this.toString()}},escapeString:function(e){for(var t=this,r="",n=0,i=t.length;i>n;n++){var a=t.charAt(n),o=t.charAt(n+1);switch(a){case e:r+="\\"+a;break;case"\r":r+="\\r";break;case"\n":r+="\\n";break;case"\\":o===a?(r+="\\\\",n++):o===e&&(r+="\\"+e,n++);break;default:r+=a}}return r},escapeHTML:function(){return this.replace(/[<>&"]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;","`":"&#x60;"}[e]||e})},unescapeHTML:function(){var e="replace";return this[e](/&amp;/,"&")[e](/&lt;/g,"<")[e](/&gt;/g,">")[e](/&#39;/g,"'")[e](/&quot;/g,'"')[e](/&#(\d+)/g,function(e,t){return String.formCharCode(int(t,10))})}},0,!1),f(Number.prototype,{"float":function(e){var t=Math.pow(10,e===r?0:e);return Math.round(this*t)/t},isFloat:function(){return 0!=Math.ceil(this)-this}}),f(Date,{now:function(){return(new Date).getTime()}},0,!1),f(Date.prototype,{format:function(e,t){var n=this;if(t===r){var i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};l(e)&&(e="yyyy-M-d h:m:s"),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e}for(var o={},u="y M d h m s".split(" "),s="",c=[],f=0,p=-1,h=e.length;h>f;f++){var m=e.charAt(f),d=-1!=u.indexOf(m);d&&m!==s?c[++p]=s=m:d||m===s?c[p]+=m:c[++p]=s=m}for(f=0,p=0,h=c.length;h>f;f++){var g=c[f],v=t.substring(p,p+=g.length);if(!v)break;-1!=u.indexOf(g.charAt(0))&&(o[g.charAt(0)]=~~v)}for(var b in o){var y=~~o[b];"y"==b?y.length<4?n.setYear(y):n.setFullYear(y):"M"==b?n.setMonth(y-1):"d"==b?n.setDate(y):"h"==b?n.setHours(y):"m"==b?n.setMinutes(y):"s"==b&&n.setSeconds(y)}return n}},0,!1),f(global,{"int":parseInt,"float":function(e,t){var r=parseFloat(e);return t===!0?0!=Math.ceil(r)-r:r},sprintf:function(){for(var e=arguments,t=e.length,r=arguments[0],n=1,i="",a=0,o=r.length;o>a;a++){var u=r.charAt(a);if(o-1>a&&"%"==r.charAt(a)){var s=r.charAt(a+1);if("%"==s)i+="%";else if(t>n){var l=e[n];switch(s){case"c":i+=(l+"").charAt(0);break;case"s":i+=l+"";break;case"d":i+=int(l);break;case"f":i+=float(l);break;case"o":i+=int(l).toString(8);break;case"x":i+=int(l).toString(16);break;case"X":i+=int(l).toString(16).toUpperCase();break;case".":if(o-3>a){var c=int(r.charAt(a+2));c>0&&"f"==r.charAt(a+3)&&(i+=float(l).toFixed(c),a+=2)}}n++}a++}else i+=u}return i}}),T.count=function(e){var t=0,r={}.hasOwnProperty;if(u(e)||a(e))t=e.length;else if(o(e))if("length"in e&&i(e.length))t=e.length;else for(var n in e)r.call(e,n)&&t++;else t++;return t},T.clone=function(e){var t={}.hasOwnProperty,r=function(e){for(var t=[],r=0,n=e.length;n>r;r++)t[r]=s(e[r]);return t},i=function(e){var r={};for(var n in e){var i=e[n];i!==e&&t.call(e,n)&&(r[n]=s(i))}return r},a=function(e){var t=function(){return e.apply(this,arguments)};return t.prototype=i(e.prototype),t},s=function(e){var t;return t=u(e)?r(e):o(e)?i(e):n(e)?a(e):e};return s(e)},p=T.func=function(e,f){if(e==r)return function(){};if(isBool(e))return function(){return e};a(e)&&(e=new Function(e));var h=t,m=t,d=0,g=!1,v=!1,b=!1,y=!1,k=!0,_=" ",F="array",x="object",A="string",w="plainObject",S=[Array,u,F],C=[Object,o,x],E=[s,w],O=[String,a,A],N=function(t,n,i,a,o){var l,f=m||this;if(t===r)0!==d&&d.call(f),l=e.call(f);else if(g===!0&&u(t))for(var p=0,h=t.length;h>p;p++)N.call(f,t[p],n,i,a,o);else if(b===!0&&typeof t===A)-1===t.indexOf(" ")?e.call(f,t,n,i,a,o):c(t,function(t,r){e.call(f,r,n,i,a,o)},!1,_);else if(v===!0&&typeof t===x||E===!0&&s(t))for(var y in t)e.call(f,y,t[y],i,a,o);else 0!==d&&d.call(f,t,n,i,a,o),l=e.call(f,t,n,i,a,o);return l===r&&k===!0&&(l=f),l};if(o(f)){var D=f.each||f.a,j=f.split||f.b,P=f.parent||f.c,z=f.delay||f.d,B=f.packages||f.f;if(m=f.bind||f.e,f.rebuild&&(e=p.rebuild(e)),f.chaining===!1&&(k=!1),a(j)&&(_=j),i(z)&&(h=z),u(D)?c(D,function(e,t){S.has(t)?g=!0:C.has(t)?v=!0:O.has(t)?b=!0:E.has(t)&&(y=!0)}):o(D)&&(l(D[F])||(g=D[F]),l(D[x])||(v=D[x]),l(D[A])||(b=D[A])),n(P)?d=P:u(P)&&(d=function(){for(var e=0,t=arguments,r=P.length;r>e;e++)P[e].apply(this,t)}),B){var M=N;N=function(){var e=this,t=arguments;return T.use(B,function(){M.apply(m||e,t)}),k===!0?e:r}}}else i(f)&&(h=f);return h!==t?function(){var e=m||this,t=arguments;return setTimeout(function(){N.apply(e,t)},h),e}:N},p.exec=function(e,t){return p(e,t)()},p.malloc=function(e,t){var r="prototype",n=function(){e.apply(this,t)};return n[r]=e[r],new n},h=T.model=function(e,t){var i=T.models;if(a(e)){if(t===r)return T.models[e]}else t===r&&o(e)&&(t=e);return n(t)&&(t=t()),o(t)?(a(e)&&(e in i&&T.debug.level>1&&T.debug({path:"Std.model",description:"model ["+e+"] already exist."}),i[e]=t),t):{}},h.get=function(e,t,n){var i=m.shortName(),o=h(e);if(t===r)return o;var u=t in o?o[t]:i[t];return n===r?u:a(n)?u[n]:void 0},function(){var e="__Std__",i="__StdPool__",s="__StdInit__",l="names",d="emits",g="events",v="prototype",b="protected",y="defineProperty";m=T.module=function(i,l,d){if(a(i)){if(l===r)return T.modules[i]||t}else d=l,l=i;d===r&&(d=T),n(l)&&!o(l=l.call(d))&&T.debug({path:"Std.module",description:"illegal parameter"},null,i);var k=m.inheritance,_=l.model||l.a;a(_)&&(_=_.split(" ")),u(_)?c(_,function(e,r){var n=t;a(r)?n=h(r):o(r)&&(n=r),n==t&&a(r)&&T.debug({path:"Std.module",description:"load model failed,model "+r+" doesn't exist."},null,i),m.loadModel(l,n)}):o(_)&&m.loadModel(l,_);var F=l.parent||l.b||t,x=l[g]||l.c||[],w=l.mix||l.d||t,S=l.option||l.e||t,C=l.static||l.f,E=l.extend||l.g||{},O=l.private||l.h,N=l[b]||l.i,D=l.public||l.j,j=l.main||l.k||p(),P=l.entrance||l.l,z=l.support||l.m||{},B=l.initialize||l.n,M=l.__constructor__||l.z,L=j,q=t,U=F;a(F)&&!(F=d.modules[F])&&T.debug({path:"Std.module",description:"parent module "+U+" doesn't exist."},null,i);var I=function(){var e=arguments;F.apply(this,e),j.apply(this,e)};n(M)?(L=M,n(F)&&k(L,F)):1===l.type?n(F)?(L=function(e,t,r,n,i){return new I(e,t,r,n,i)},k(L,F),k(I,F)):(L=function(e,t,r,n,i){return new j(e,t,r,n,i)},j[v]=L[v]={}):n(F)&&(L=I,k(L,F));var R=L[v],H=function(e,t,r){if(F&&m.isProtected(F,e))return T.debug({path:"Std.module",description:"cannot overwrite protected member ["+e+"]"},null,i),!1;var a=o(t)?t.value:t,u=o(t)?t:{configurable:!1,enumerable:1===r,writable:!0,value:a};return Object[y](R,e,u),F&&e in F[v]&&n(R[e])&&(R[e].parent=F[v][e]),!0};if(a(x)&&(x=x.split(" ")),n(F)&&(F[v][e]&&(x=x.union(F[v][e][g])),m.extendMembers(L,E,F),f(L,F,3)),S!==t){var $={};if(n(F)){var V=F[v][e];o(V)&&(S=V.option.get(S))}S=$=new A(S),L.opts=function(e){return e===r?S:(S&&S.set(e),void 0)},R.opt=function(e,t,n){var i=this,a=i.opts[e];if(t===r)return a;if(i.opts[e]=t,"function"==typeof n){var o=n.call(i,a);if(o!==r)return o}return i},R.init_opts=function(e){return this.opts=$.get(o(e)?e:{})},R.call_opts=function(t,r){var s=this,l=s.opts,c=s[e].option;if(a(t))n(s[t])||T.debug({path:"Std.module",memberType:"public",memberName:"call_opts",description:"function ["+h+"] doesn't exist."},null,i),r===!0?l[t]!==c.get(t)&&s[t](l[t]):s[t](l[t]);else if(u(t))for(var f=0,p=t.length;p>f;f++){var h=t[f];n(s[h])||T.debug({path:"Std.module",memberType:"public",memberName:"call_opts",description:"function ["+h+"] doesn't exist."},null,i),r===!0?l[h]!==c.get(h)&&s[h](l[h]):s[h](l[h])}else if(o(t))for(var h in t)n(s[h])||T.debug({path:"Std.module",memberType:"public",memberName:"call_opts",description:"function ["+h+"] doesn't exist."},null,i),r===!0?l[h]!==t[h]&&s[h](l[h]):s[h](t[h]);return s}}if(u(w)?c(w,function(e,t){f(L,t,3),c(t[v],function(e,t){H(e,t,1)})}):(o(w)||n(w))&&(f(L,w,3),c(w[v],function(e,t){H(e,t,1)})),o(C)&&f(L,C,3),o(N)&&c(N,function(e,t){q||(q=[]),H(e,t,2)&&q.push(e)}),o(O)&&c(O,function(e,t){H("_"+e,t,3)}),o(B)&&c(B,function(e,t){n(t)&&H(e,function(){var r=this,n=r[s];return n||(n=r[s]={}),n[e]===!0?!1:(t.apply(r,arguments),n[e]=!0)},4)}),o(D)&&c(D,function(e,t){H(e,t,1)}),n(P)&&P.call(L,L,R,S),o(z)||(z={}),n(F)){var Y=F[v][e].support;for(var W in Y){var Z=Y[W];Z.private!==!0&&(z[W]=f(f({},Z,3),z[W]))}}c(R,function(e,t){n(t)&&(t.__StdName__=e)});var X={type:l.type||0,name:i||t,model:_||t,parent:F,option:S,events:x,support:z,"protected":q||t,main:j};return Object[y](R,e,{configurable:!1,enumerable:!1,writable:!0,value:X}),a(i)&&(d.modules[i]=L),L},m.shortName=function(){var e={b:"parent",d:"mix",e:"option",f:"static",g:"extend",h:"private",i:"protected",j:"public",k:"main",m:"support",n:"initialize",l:"entrance"};return function(t){if(t===r)return e;var n={};return c(t,function(t,r){n[r]=e[r]}),n}}(),m.create=function(e,r,n,i,a,o,u,s,l){var c=m(e);return c?new c(r,n,i,a,o,u,s,l):t},m.inheritance=function(e,t){var r=p();return r[v]=t[v],e[v]=new r,e[v].constructor=e,e},m.extendMembers=function(e,t,a){return c(t,function(t,o){var u=a[v][t],s=function(e){var r=e[i];if(r[d]&&r[d][t]){for(var n=0,a=r[d][t],o=a.length;o>n;n++)e.emit.apply(e,a[n]);r[l][t]=!1,r[d][t].length=0}};u===r&&(u=p()),n(u)&&n(o)&&(e[v][t]=function(){var e=this,n=arguments,a=e[i],c=!1;a?a[l][t]!==!0&&(a[l][t]=c=!0):(e[i]=a={names:{}},a[l][t]=c=!0);var f=u.apply(e,n);return f!==e&&f!==r?(c&&s(e),f):((f=o.apply(e,n))===r&&(f=e),c&&s(e),f)},e[v][t].parent=u)}),e},m.loadModel=function(e,t){var r=t[g]||t.c,n=e[g];return a(r)&&(r=r.split(" ")),u(r)&&(n?(a(n)&&(n=n.split(" ")),u(n)&&(e[g]=[].union(r,n))):e[g]=r),c(m.shortName("b k l"),function(r,n){var i=t[n]||t[r],a=e[n]||e[r];!a&&i&&(e[n]=i)}),c(m.shortName("d e f g h i j m n"),function(r,n){var i=t[n]||t[r];if(o(i)){var a=f(f({},i,3),n in e?e[n]:e[r]);r in e?e[r]=a:e[n]=a}}),e},m.property=function(n,i,a){var u,s=n;if(a!==!0)return(u=s[v][e])?u[i]:t;for(var l=[];(u=s[v][e])&&o(u)&&u[i]!==r&&(l.push(u[i]),s=u.parent););return l},m.isProtected=function(t,r){for(var n,i=t;(n=i[v][e])&&o(n);){if(u(n[b])&&n[b].has(r))return!0;if(!(i=n.parent))break}return!1},m.support=function(e,i,u,s){if(a(e)){var l=e;if(!(e=(s||T).module(e)))return T.debug({path:"Std.module",memberType:"static",memberName:"support",description:"load failed,module ["+l+"] doesn't exist"}),t}if((o(e)||n(e))&&a(i)){var c=m.property(e,"support");if(u===r)return c[i]||t;n(u)&&(c[i]=u),o(u)&&f(c,u)}return t}}(),d=T.mold={0:function(e,t){return a(e)&&n(t)},1:function(e){return a(e)||i(e)},2:function(e,t){return t in e?e[t]:e[t]={}},3:function(e,t){return t in e?e[t]:e[t]=[]},or:function(e,r){var n=!1;a(e=e==t?"":e)&&(e=e.split(" "));for(var i=0,o=e.length;o>i;i++)if(e[i]===r){n=!0;break}return n},ins:function(e,t){if(!t)return!1;a(e)&&(e=e.split(" "));for(var r=0,n=e.length;n>r;r++)if(!(e[r]in t))return!1;return!0},ui:function(e,r,i){var u=t;if(n(i)&&(i=i()),a(r)){var s={text:r};i&&f(s,i),u=Std_ui(e,s)}else isWidget(r)?u=r:o(r)&&(o(i)&&f(r,i),u=Std_ui(r.ui||e,r));return u},dataPath:function(e,t){if(a(e)&&(e=e.toObject()),!o(e)||!a(t)||l(t))return e;var r=e;return T.each(t,function(e,t){return(t=t.trim())in r?(r=r[t],void 0):!1},!1,"."),r}},A=T.options=m({f:{data:{},get:function(e,t){if(a(e)){var r=A.data[e];return r?r.get(t):{}}}},j:{get:function(e){if(a(e))return this.data.prototype[e];var t=new this.data;if("object"!=typeof e)return t;for(var r in e)t[r]=e[r];return t},set:p(function(e,t){this.data.prototype[e]=t},{each:[u,o]}),remove:p(function(e){delete this.data.prototype[e]},{each:[u]})},k:function(e,t){var r=this;if(r instanceof A)return r.data=p(),r.set(e);if(o(e))for(var n in e)A(n,e[n]);else a(e)&&o(t)&&(A.data[e]=new A(t));return A}}),T.create=function(e){if(a(e)){var r=T.modules[e];return r==t?r:p.malloc(r,Array.slice(arguments,1))}},T.items=m(function(){var e="string",s="length",l="__StdItemName__",f={indexOf:function(e,t){return this._list.indexOf(e,t)},append:function(t,n){var i=this;return typeof t===e?T.property(i._map,n[l]=t,n):n===r&&(n=t),i.push(n)},push:function(e){return this[s]++,this._list.push(e)},insert:function(t,n,i){var a=this,o=a._list;return n===r||null===n?(n=t,t=r,i=-1):i===r&&typeof t!==e&&"number"==typeof n&&(i=n,n=t),o.insert(n,i),typeof t===e&&T.property(a._map,n[l]=t,n),++a[s]},remove:function(e){var r=this,n=r._map,o=r._list,u=t;if(i(e)&&e<r[s])(u=o[e])&&(o.remove(e),r[s]--);else if(a(e))(u=n[e])&&(o.remove(o.indexOf(u)),r[s]--);else{var c=o.indexOf(u=e);-1!==c&&(o.remove(c),r[s]--)}return u&&l in u&&delete n[u[l]],r},items:function(i,a){var u=this,s=u._list,l=t;if(i===r)l=s;else if("number"==typeof i)l=s[i];else if(typeof i===e)l=u._map[i];else{if(n(i))return c(s,function(e,t){return i.call(u,e,t)},a);if(o(i))return-1!==s.indexOf(i)?i:c(s,function(e,t){var r=Std_dom.get(t);return null!==r&&r===Std_dom.get(i)?t:void 0})||l}return l},clear:function(){var e=this;return e[s]>0&&(e[s]=0,e._list.clear(),Object.clear(e._map)),e}};return{type:1,j:f,k:function(e){var t=this;t._map={};var r=t._list=[];t[s]=0,u(e)?(r.merge(e),t[s]+=e.length):o(e)&&c(e,function(e,r){t.append(e,r)})}}}),T.unite=function(e,s,l){var f="prototype",h=T.unite.addMember,m=p(),d=s||p(),g=T.unite.methods;return m[f]=e[f],d[f]={length:0,_:function(e){var s=this,l=t;return e===r?l=s:a(e)?l=g[e].apply(s,Array[f].slice.call(arguments,1)):u(e)?l=g.merge.call(s,e):i(e)?l=s[e]:(n(e)||o(e))&&(l=g.push.call(s,e)),l},each:function(e){return g.each.call(this,e)}},c(new m,function(e,t){n(t)&&h(d,e)}),c(l,function(e,t){n(t)&&h(d,e)}),d},T.unite.addMember=function(e,t){e.prototype[t]=function(){for(var e=this,r=0,n=e.length;n>r;r++){var i=e[r][t];i&&i.apply(e[r],arguments)}return e}},T.unite.methods=function(){var e=Array.prototype,t={push:function(e){return this[this.length++]=e},splice:function(t,r){return e.splice.call(this,t,r),this},indexOf:function(t,r){return e.indexOf.call(this,t,r)},has:function(t){return e.has.call(this,t)},remove:function(e){return e===r?this.clear():t.splice.call(this,e,1)},clear:function(){for(var e=this;e.length>0;)delete e[--e.length];return e},merge:function(e){o(e)||T.debug({path:"Std.unite.methods",memberType:"static",memberName:"merge",description:"illegal parameter"});for(var t=this,r=0,n=e.length;n>r;r++)t[t.length++]=e[r];return t},each:function(e){n(e)||T.debug({path:"Std.unite.methods",memberType:"static",memberName:"each",description:"illegal parameter"});for(var t=this,r=0,i=this.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);return t}};return t}(),h("events",function(){var e="emits",s="__StdPool__",l="__StdEvents__";return{j:{eventExist:function(e,t){var r=this[l];return r&&r[e]?n(t)?r[e].has(t):!0:!1},eventAssign:function(e,r){var i=this;if(!n(r))return i;if(a(e)&&(e=e.split(" ")),u(e))for(var o=e.length,s=[],l=0,c=function(e,n){s[e]=t,i.once(n,function(t){s[e]=t,++l==o&&r.apply(i,s)})},f=0;o>f;f++)c(f,e[f]);return i},on:p(function(e,t,r){var n=d[2](this,l);if(d[0](e,t)){var a=n[e];a||(a=n[e]=[]),i(r)?a.insert(t,r):a.push(t)}},{each:[u,o,a]}),off:p(function(e,t){var i=this,a=i[l];e===r?c(a,function(e){i.off(e)}):t===r&&e in a?a[e].clear():a&&n(t)&&c(a[e],function(r,n){n===t&&a[e].remove(r)})},{each:[u,o,a]}),once:p(function(e,t,r){var n=this;if(d[0](e,t)){var i=function(){return n.off(e,i),t.apply(n,arguments)};n.on(e,i,r)}},{each:[u,o,a]}),emit:p(function(e,t,r){var i,a=this,o=a[l];if(isBool(e))return a.emitTurn=e,void 0;if(o&&(i=o[e])&&a.emitTurn!==!1){var u=i.length,s=r===!0?"apply":"call";if(1===u)return i[0][s](a,t),void 0;for(var c=0;u>c;){var f=i[c];n(f)&&f[s](a,t),f===i[c]&&c++}}},{each:[u,a]}),__emit__:function(){var t=this,r=t[s],n=arguments,i=n.callee.caller.__StdName__;return r&&r.names[i]?(r[e]||(r[e]={}),r[e][i]?r[e][i].push(n):r[e][i]=[n],t):t.emit.apply(t,n)}}}}()),g=T.events=m({a:"events",f:{connect:function(e,t,r,i){var o="__StdConnection__",s=function(){var e=arguments;return n(i)?i.apply(r,e):d[0](i,r[i])?r[i].apply(r,e):(u(i)&&c(i,function(t,i){if(a(i)){if(n(r[i])&&r[i].apply(r,e)===!1)return!1}else if(n(i)&&i.apply(r,e)===!1)return!1}),void 0)};return e[o]||(e[o]={}),e[o][t]||(e[o][t]=[]),e[o][t].push({source:e,sourceEvent:t,target:r,targetMethod:i,handle:s}),e.on(t,s),g},disconnect:function(e,t,r,n){var i="__StdConnection__";if(!e||!e[i])return g;if(!e[i][t]){for(var t in e[i])g.disconnect(e,t);return g}return r?(c(e[i][t],function(a,o){(!n||o.target===r&&o.targetMethod===n)&&(o.source.off(t,o.handle),e[i][t].remove(a))}),g):(c(e[i][t],function(r,n){g.disconnect(e,t,n.target)}),g)}},k:function(e){g.iof(this)&&o(e)&&this.on(e)}}),T.model("hooker",function(){var e="__StdHook__",t=function(t){return e in t||(t[e]={hooks:{},hands:{}}),t[e]};return{j:{hook:p(function(e,r){var n=this,i=t(n),a=i.hooks;e in a?a[e].push(r):(a[e]=[r],i.hands[e]=function(){for(var t=0,r=a[e].length;r>t;t++)if(a[e][t].apply(this,arguments)===!1)return!1;return!0})},{each:[o,u,a]}),unhook:p(function(e,n){var i=this,a=t(i),o=a.hooks;return e in o?(n===r?(delete o[e],delete a.hands[e]):c(o[e],function(e,t){return t===n?(this.remove(e),!0):void 0}),void 0):!1},{each:[o,u,a]}),act:function(e){var r=this,n=t(r),i=n.hands;return e in i?i[e].apply(r,Array.slice(arguments,1)):!0}}}}),T.hooker=m({a:"hooker",f:{hijack:function(e,t,i){var u,s,l;if(n(e)&&n(t))s=e,l=t;else{if(!((n(e)||o(e))&&a(t)&&n(e[t])&&n(i)))return e;s=e[t],l=i,u=!0}var c=function(){var e=this,t=arguments,n=l.call(e,t);return n===r?s.apply(this,t):n};return u&&(e[t]=c),c}},k:function(e){o(e)&&this.hook(e)}}),b=T.queue=m({a:"events",e:{auto:!1,tasks:t,timeout:0,interval:0},h:{pos:0,retry:0,timer:t},j:{length:0,pos:function(){return this._pos},timeout:function(e){return this.opt("timeout",k.timeUnit(e,"ms"))},interval:function(e){return this.opt("interval",k.timeUnit(e,"ms"))},auto:function(e){return this.opt("auto",e)},prev:function(){return this.jump(this._pos-1,arguments)},next:function(){return this.jump(this._pos+1,arguments)},done:function(){return this.next()},has:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return!0;return!1},push:p(function(e){var t=this;n(e)&&(t[t.length++]=e)}),merge:function(e){var t=this;if(u(e))for(var r=0,i=e.length;i>r;r++)n(e[r])&&(t[t.length++]=e[r]);return t},error:function(e){var t=this;return n(e)?t.on("error",e):t.emit("error",[t._pos,e],!0),t},complete:function(e){var t=this;return n(e)?t.on("complete",e):t.emit("complete",e,!0),t},jump:function(e,t){var r=this,n=r.length;return r._retry=0,0>e?r:(n-1>=e&&r[r._pos=e].apply(r,t),e===n&&r.complete(t),r.emit("jump",[e,t],!0))},exec:function(){for(var e=this,t=e.length,r=0;t>r;r++)e[e._pos=r].apply(e,arguments);return r>=t-1&&e.complete(),e},start:function(){var e=this,t=e.opts;return t.timeout>0&&(e._timer=setTimeout(function(){e.emit("timeout")},t.timeout)),e.length>0?e[0].apply(e,arguments):e.complete.apply(e,arguments),e.emit("start")},retry:function(e,t,r){var i=this,a=i._pos;return i._retry++<e?setTimeout(function(){i[a].apply(i,t)},i.interval()):(n(r)&&r.call(i,a),i.error(t)),i},remove:function(e){var t=this;if(e===r)t.clear();else if(i(e)){delete t[e];for(var a=e+1;a<t.length;a++)t[a-1]=t[a],delete t[a];t.length--}else if(n(e))for(var a=t.length;a--;)if(t[a]===e){t.remove(a);break}return t},clear:function(){for(var e=this,t=e.length;t>=0;t--)delete e[t];return e._pos=0,e.length=0,clearTimeout(e._timer),e}},k:function(e){var t=this;t._map={},t.init_opts(o(e)?e:{}),u(e)?t.merge(e):n(e)?t.complete(e):o(e)&&(u(e.tasks)&&t.merge(e.tasks),o(e.on)&&t.on(e.on))}}),T.holder=m(function(){var e="length",t="complete";return{a:"events",j:{length:0,push:p(function(t){var r=this;r[e]++,r._tasks.push({hand:t})},{each:[u]}),hold:function(e){var t=this.push(e);return n(e)?(e.call(t,t,e),t.emit("hold",e)):u(e)&&c(e,function(e,r){r.call(t,t,r),t.emit("hold",r)}),t},release:p(function(r){var n=this;c(n._tasks,function(i,a){return a.hand===r?((0==n.emit("release",r)[e]||0==--n[e])&&n.emit(t),this.remove(i)):void 0})},{each:[u]}),complete:function(r){var n=this.once(t,r);return 0===n[e]&&n.emit(t),n}},k:function(e){var r=this;r._tasks=[],n(e)?r.on(t,e):u(e)&&r.hold(e)}}}),h("plugin",{"public":{plugin:p(function(e,t){var n=this,i=d[2](n,"__StdPlugins__");return t===r?i[e]||null:i[e]=v(e,n,t)},{each:[o]}),removePlugin:p(function(e){var t=this,n=d[2](t,"__StdPlugins__");if(e===r)for(var i in n)n[i]&&n[i].destroy(),delete n[i];else e in n&&(n[e].destroy(),delete n[e])})}}),v=T.plugin=m({f:{modules:{},exist:function(e){return a(e)||T.debug({path:"Std.plugin",memberType:"static",memberName:"exist",description:"illegal parameter,pluginName must be a string"}),e in v.modules},create:function(e,r,i){var o=d[2](r,"plugins");return e in o&&(n(o[e].destroy)&&o[e].destroy(),delete o[e]),a(e)?(v.exist(e)||T.debug({path:"Std.plugin",memberType:"static",memberName:"create",description:"plugin "+e+" doesn't exist"}),new v.modules[e](r,i)):t},module:function(e,i){if(a(e)){if(i===r)return v.exist(e)||T.debug({path:"Std.plugin",memberType:"static",memberName:"module",description:"plugin "+e+" doesn't exist"}),v.modules[e]||t}else i=e;a(e)&&n(i)&&(i=i.call(T,v)),i=f({},i);var o,u=[],s="prototype";return i.__constructor__=function(e,r){var n=this,i=n.opt?n.init_opts(r||{}):t;n.owner=e,i.on&&n.on(i.on),n.emit("create");for(var a=u.length-1;a>=0&&u[a].call(n,n,i,e)!==!1;a--);},(o=m(e,i,v))===t?o:(o[s].destroy||(o[s].destroy=p()),o[s].pluginName=e,c("on off once emit __emit__",function(e,t){o[s][t]=g[s][t]}),u=m.property(o,"main",!0),o)}},k:function(e,n,i){return n===r&&a(e)?v.modules[e]||t:v.create(e,n,i)}}),T.validator=p(),y=T.is=m({f:{number:function(e){return isNumeric(e)},blankChar:function(e){return"\r"===e||"\n"===e||" "===e||"	"===e},alnum:function(e){return e>="0"&&"9">=e||e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e},validAlNum:function(e){if(""===e)return!1;for(var t=e.length-1,r=y.alnum;t>=0;t--)if(!r(e.charAt(t)))return!1;return!0},singleTag:function(){var e={};return c("input link meta img param br hr",function(t,r){e[r]=1}),function(t){return t in e}}(),operatorChar:function(){var e={};return c("+ - * / = ! > < ~ | $ ^",function(t,r){e[r]=1}),function(t){return t in e}}(),color:function(e){var r=!0,n=(e=e.toLowerCase()).length,i=y.validAlNum;if("#"===e.charAt(0)){var a=e.substr(1,n-1),o=n-1;if(!i(a)||3!=o&&6!=o)return!1;for(var u,s=0;o>s;s++)if((u=a.charAt(s))>"f")return!1}else if(i(e)&&25>n)r=e in k.colors;else if(n>=11&&"rgb"===e.substr(0,3)){var l=3;if("a"===e.charAt(3)&&l++,"("!==e.charAt(l)&&")"!==e.charAt(n-1))return!1;var f=e.substring(l+1,n-1);if(f!==t){var p=(f=f.split(",")).length;if(l!==p)return!1;c(f,function(e,t){return!y.number(t)||0>~~t||~~t>255?r=!1:void 0})}}else r=!1;return r},keyword:function(){var e="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".split(",");return function(t){return e.has(t)}}(),DOM:function(e){return o(e)&&(Std_dom.iof(e)||isElement(e))},ie:function(e){var r=T.init.ie;return e==t?r.n:r[e]||!1},icon:function(e){return T.icon.iof(e)},action:function(e){return Std_action.iof(e)},module:function(e){if(n(e)){var t=e.prototype.__Std__;return!(!t||!n(t.main))}return!1}},k:function(e,t){var r=!0;if(e===t)return r;if(RegExp.iof(e))return e.test(t);switch(e){case"Number":r=y.number(t);
break;case"String":r=a(t)&&!l(t);break;case"Function":r=n(t);break;case"Object":r=o(t);break;case"PlainObject":r=s(t);break;case"Array":r=u(t);break;case"Empty":r=l(t);break;case"NonEmpty":r=!l(t);break;default:e in y&&(r=y[e](t))}return r}}),T.crypto={},k=T.convert=m(function(){var e=Math.min,n=Math.max,u=Math.round;return{f:{percent:function(e,r){return i(r)?float(100*(e/(r||100))):(a(e)&&(e="from"===e?0:"to"===e?100:"%"===e.charAt(e.length-1)||y.number(e)?float(e):t),e)},timeUnit:function(e,t,n){if(isNumeric(e)&&(e=float(e)),i(e)){if(t===r)return e;if(n===r)return k.timeUnit(e,"ms",t)}if(a(e)){t===r?n="ms":n===r&&(n=t);for(var o=0,u=e.length;u>o;o++){var s=e.charAt(o);if(!isNumeric(s)){t=e.right(u-o)||"ms",e=int(e.left(o+1));break}}return k.timeUnit(e,t,n)}var l=1e3,c={us:l,ns:l*l},f={s:l,m:60*l,h:60*60*l,d:24*60*60*l},p=function(e,t,r){var n;if("ms"==t)return e;if(t in c)n=!0;else{if(!(t in f))return 0;n=!1}return 1==r?n?e/c[t]:f[t]*e:n?c[t]*e:e/f[t]};return l=t===n?e:"ms"===n?p(e,t,1):p(p(e,t,1),n,0),float(l)},hex2rgb:function(e){function t(t){return e.charAt(t)}return"#"===e.charAt(0)&&(e=e.substr(1)),3==e.length&&(e=t(0)+t(0)+t(1)+t(1)+t(2)+t(2)),{r:int(t(0)+t(1),16),g:int(t(2)+t(3),16),b:int(t(4)+t(5),16)}},rgb2hex:function(e,t,r){o(e)&&(t=e.g,r=e.b,e=e.r);for(var n=(65536*~~e+256*~~t+~~r).toString(16);n.length<6;)n="0"+n;return"#"+n},hsv2rgb:function(e,t,r){if(o(e)&&(t=e.s,r=e.v,e=e.h),e=u(e),t=u(255*t/100),r=u(255*r/100),0==t)return{r:r,g:r,b:r};var n=r,i=(255-t)*r/255,a=(n-i)*(e%60)/60,s=0,l=0,c=0;return 360==e&&(e=0),60>e?(s=n,c=i,l=i+a):120>e?(l=n,c=i,s=n-a):180>e?(l=n,s=i,c=i+a):240>e?(c=n,s=i,l=n-a):300>e?(c=n,l=i,s=i+a):360>e&&(s=n,l=i,c=n-a),{r:u(s),g:u(l),b:u(c)}},rgb2hsv:function(t,r,i){o(t)&&(r=t.g,i=t.b,t=t.r);var a=e(t,r,i),s=n(t,r,i),l=s-a,c=0,f=0,p=s*(100/255);return 0!=s&&(f=255*l/s),c=0==f?-1:t==s?(r-i)/l:r==s?2+(i-t)/l:4+(t-r)/l,(c*=60)<0&&(c+=360),{h:e(360,u(c)),s:u(f*=100/255)||0,v:u(p)||0}},rgb:function(e){var r=t;return"rgb"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==t&&(e=e.split(",")).length>=3&&(r={r:~~e[0],g:~~e[1],b:~~e[2]},4==e.length&&(r.a=float(e[3]))),r},hsv:function(e){var r=t;return"hsv"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==t&&3==(e=e.split(",")).length&&(r={h:~~e[0],s:~~e[1],v:~~e[2]}),r},color:function(e){var r=(e=e.trim().toLowerCase()).length,n=k.colors,i=k.hex2rgb,a=t;return 8>r&&"#"===e.charAt(0)?a=i(e):25>r&&e in n?a=i(n[e]):r>9&&("rgb"==e.substr(0,3)||"rgba"==e.substr(0,4)?a=k.rgb(e):"hsv"===e.substr(0,3)&&(e=k.hsv(e),a=k.hsv2rgb(e.h,e.s,e.v))),a}},k:function(){}}}),k.colors=function(){for(var e={},t="black,navy,darkblue,mediumblue,blue,darkgreen,green,teal,darkcyan,deepskyblue,darkturquoise,mediumspringgreen,lime,springgreen,aqua,cyan,midnightblue,dodgerblue,lightseagreen,forestgreen,seagreen,darkslategray,limegreen,mediumseagreen,turquoise,royalblue,steelblue,darkslateblue,mediumturquoise,indigo,darkolivegreen,cadetblue,cornflowerblue,mediumaquamarine,dimgray,dimgrey,slateblue,olivedrab,slategray,lightslategray,mediumslateblue,lawngreen,chartreuse,aquamarine,maroon,purple,olive,gray,skyblue,lightskyblue,blueviolet,darkred,darkmagenta,saddlebrown,darkseagreen,lightgreen,mediumpurple,darkviolet,palegreen,darkorchid,yellowgreen,sienna,brown,darkgray,lightblue,greenyellow,paleturquoise,lightsteelblue,powderblue,firebrick,darkgoldenrod,mediumorchid,rosybrown,darkkhaki,silver,mediumvioletred,indianred,peru,chocolate,tan,lightgray,thistle,orchid,goldenrod,palevioletred,crimson,gainsboro,plum,burlywood,lightcyan,lavender,darksalmon,violet,palegoldenrod,lightcoral,khaki,aliceblue,honeydew,azure,sandybrown,wheat,beige,whitesmoke,mintcream,ghostwhite,salmon,antiquewhite,linen,lightgoldenrodyellow,oldlace,red,fuchsia,magenta,deeppink,orangered,tomato,hotpink,coral,darkorange,lightsalmon,orange,lightpink,pink,gold,peachpuff,navajowhite,moccasin,bisque,mistyrose,blanchedalmond,papayawhip,lavenderblush,seashell,cornsilk,lemonchiffon,floralwhite,snow,yellow,lightyellow,ivory,white".split(","),r="000000,000080,00008B,0000CD,0000FF,006400,008000,008080,008B8B,00BFFF,00CED1,00FA9A,00FF00,00FF7F,00FFFF,00FFFF,191970,1E90FF,20B2AA,228B22,2E8B57,2F4F4F,32CD32,3CB371,40E0D0,4169E1,4682B4,483D8B,48D1CC,4B0082,556B2F,5F9EA0,6495ED,66CDAA,696969,696969,6A5ACD,6B8E23,708090,778899,7B68EE,7CFC00,7FFF00,7FFFD4,800000,800080,808000,808080,87CEEB,87CEFA,8A2BE2,8B0000,8B008B,8B4513,8FBC8F,90EE90,9370DB,9400D3,98FB98,9932CC,9ACD32,A0522D,A52A2A,A9A9A9,ADD8E6,ADFF2F,AFEEEE,B0C4DE,B0E0E6,B22222,B8860B,BA55D3,BC8F8F,BDB76B,C0C0C0,C71585,CD5C5C,CD853F,D2691E,D2B48C,D3D3D3,D8BFD8,DA70D6,DAA520,DB7093,DC143C,DCDCDC,DDA0DD,DEB887,E0FFFF,E6E6FA,E9967A,EE82EE,EEE8AA,F08080,F0E68C,F0F8FF,F0FFF0,F0FFFF,F4A460,F5DEB3,F5F5DC,F5F5F5,F5FFFA,F8F8FF,FA8072,FAEBD7,FAF0E6,FAFAD2,FDF5E6,FF0000,FF00FF,FF00FF,FF1493,FF4500,FF6347,FF69B4,FF7F50,FF8C00,FFA07A,FFA500,FFB6C1,FFC0CB,FFD700,FFDAB9,FFDEAD,FFE4B5,FFE4C4,FFE4E1,FFEBCD,FFEFD5,FFF0F5,FFF5EE,FFF8DC,FFFACD,FFFAF0,FFFAFA,FFFF00,FFFFE0,FFFFF0,FFFFFF".split(","),n=0,i=t.length;i>n;n++)e[t[n]]="#"+r[n];return e}(),_=T.timer=m({a:"events",e:{delay:0,count:"infinite",timeout:0,interval:0,progress:t},f:{now:function(){return Date.now()},test:function(e,t){n(e)||T.debug({path:"Std.timer",memberType:"static",memberName:"test",description:"illegal parameter,parameter1 must be a function"});var r=_.now();if(i(t)&&t>1)for(var a=0;t>a;a++)e(a);else e();return _.now()-r}},h:{t0:0,t1:0,t2:0,t3:0,t4:0,tid:t,tid1:t,tid2:t,state:"ready"},i:{elapsedTime:0,elapsedCount:0,clock:function(e){var t=this,r=_.now();switch(e){case-1:t._t0=r,t._t1=r,t._t2=t._t3=t._t4=0;break;case 0:t._t0=t._t1=t._t2=t._t3=t._t4=0;break;case 1:t.elapsedTime=r-t._t1-t._t2;break;case 2:t._t0=r,t._t2+=r-t._t3;break;case 3:t._t0=r,t._t1=r;break;case 4:t._t4=r-t._t0;break;case 5:t._t4=t.opts.delay;break;case 6:t._t2+=t.opts.delay}return t},startTimer:function(){var e=this.stopTimer(),t=e.opts,r=t.interval,n=t.timeout;a(r)&&"auto"!=r&&(r=k.timeUnit(r,"ms")),a(n)&&(n=k.timeUnit(n,"ms")),(n-=e._t4)>0&&(e._tid2=setTimeout(function(){e.stopTimer().emit("timeout").state("ready")},n));var i=function(){if("running"!=e._state)return e.stopTimer();var n=t.count,a=e.clock(1).elapsedTime,o=++e.elapsedCount;"infinite"!==n&&o>=n?(e.stopTimer(),e.state("completed"),e.emit("progress complete",a)):(e._tid="auto"==r?requestAnimationFrame(i):setTimeout(i,r),e.emit("progress",a))};return e.state("running"),i(),e},stopTimer:function(){var e=this,t=e.opts;return"auto"==t.interval?cancelAnimationFrame(e._tid):clearTimeout(e._tid),clearTimeout(e._tid1),clearTimeout(e._tid2),e}},j:{count:function(e){return this.opt("count",e)},timeout:function(e){return this.opt("timeout",k.timeUnit(e,"ms"))},delay:function(e){return this.opt("delay",k.timeUnit(e,"ms"))},state:function(e){var t=this;return e===r?t._state:(o(e)&&T.debug({path:"Std.timer",memberType:"public",memberName:"state",description:"illegal parameter"}),t.emit("stateChange",t._state=e))},set:function(e){var t=this;return o(e)||T.debug({path:"Std.timer",memberType:"public",memberName:"set",description:"illegal parameter"}),c("count delay timeout interval on",function(r,n){n in e&&t[n](e[n])}),n(e.progress)&&t.on("progress",e.progress),t},interval:function(e){var t=this;return t.opt("interval",k.timeUnit(e,"ms"),function(){"running"==t._state&&t.startTimer()})},start:function(){var e=this,t=e.opts,r=e._state,n=t.delay;return 0===t.count||"running"===r?e:("completed"==r?e.clock(-1):"paused"==r?e.clock(2):e.clock(3),(n-=e._t4)>0?(e.state("waiting"),e._tid1=setTimeout(function(){e.clock(6).startTimer()},n)):e.startTimer(),e.emit("start"))},pause:function(){var e=this,t=e.state(),r=_.now();if("waiting"==t)e.clock(4);else{if("running"!=t)return e;e.clock(5)}return e.stopTimer().state("paused")._t3=r,e.emit("pause")},stop:function(){return this.stopTimer().reset().emit("stop")},reset:function(){var e=this.clock(0);return e.elapsedTime=0,e.elapsedCount=0,e.state("ready")},remove:function(){this.stopTimer().reset()}},k:function(e,r){var u=this,s=t;return u instanceof _?(o(e)?s=e:n(e)&&(i(r)||a(r)?s={interval:r}:o(r)&&(s=r),u.on("progress",e)),u.set(u.init_opts(s)),void 0):new _(e,r).start()}}),F=T.parser=m(function(){var e="arguments",n=y.alnum,i=y.blankChar,a=y.operatorChar;return{type:1,h:{text:"",size:0},f:{json:function(e){return(e+"").toObject()},unit:function(e){for(var r,i="",a="",o=0,u=0,s=e.length;s>o;o++)if((r=e.charAt(o))>="0"&&"9">=r)a+=r;else if("-"===r&&0==o)a+=r;else{if("."!==r)break;if(++u>1)break;a+=r}if(""===a||"-"===a)return t;for(;s>o;o++){if(!n(r=e.charAt(o))&&"%"!==r)return t;i+=r}return{type:"number",unit:i,value:float(a)}}},j:{skipWhiteSpace:function(e,t){for(;t>e&&i(this._text.charAt(e));e++);return e},hex:function(e){var t=this,r="",i=0,a=0,o={error:0,text:""};for(e++;e<t._size;e++){var u=t._text.charAt(e);if(!n(u)){e--;break}if(u.toLowerCase()>"f"){i=1;break}if(a>6){i=1;break}r+=u,a++}return 3!=a&&6!=a&&(i=1),o.text=r,o.endPos=e,o.error=i,o},keyword:function(e,t){var r=this,i=r._text.charAt(e),o="",u=0,s=2,l={text:""};for(2===t&&(e++,s=0);e<r._size;e++){var c=r._text.charAt(e);if(0===t){if(n(c)){o+=c;continue}}else if(1===t){if(c>="0"&&"9">=c){o+=c;continue}if(n(c)){u=1;break}}else{if(2===t){var f=r._text.charAt(e+1);if("\\"===c&&(f===c||'"'===f||"'"===f)){e++,o+=f;continue}if(c===i){e++,s=2;break}o+=c;continue}if(3===t){if(a(c)){o+=c;continue}}else if(4===t){if(n(c)||"-"===c||"."===c){o+=c;continue}}else if(5===t){if(n(c)||"-"===c){o+=c;continue}}else t!==c&&(o+=c)}break}return 2!=s&&(u=1),l.error=u,l.endPos=--e,l.text=o,l},codeBlockText:function(e,t){for(var r=this,n=0,i={text:""},a="";e<r._size;e++){var o=r._text.charAt(e);if("\\"===o){var u=r._text.charAt(e+1);u===o||u===t||'"'===u||"'"===u?(e++,a+=u):a+=o}else{if("}"===o&&"{"===t||">"===o&&"<"===t)break;if(o===t){var s=r.codeBlockText(++e,t);if(e=s.endPos+1,0!==s.error){n=1;break}a+=o+s.text+r._text.charAt(e)}else if('"'===o||"'"===o){var l=r.keyword(e,2);if(e=l.endPos,0!=l.error){n=1;break}a+=o+l.text+o}else a+=o}}return i.error=n,i.endPos=--e,i.text=a,i},htmlComment:function(e){var t=this,r=0,n=e,i={text:""};return-1===(n=t._text.indexOf("-->",e))?(r=1,n=t._size-1):(n+=2,i.text=t._text.substring(e,n+3)),i.endPos=n,i.error=r,i},argument:function(t,a){var o=this,u=0,s=0,l={};for(l[e]=[],a===r&&(a=")"),++t;t<o._size;t++){var c=o._text.charAt(t);if(","!==c){if(c===a){s=2;break}if(!i(c)){if(0!=s){u=1;break}var f=-1;if(c>=0&&9>=c)f=1;else if(n(c))f=0;else{if("'"!==c&&'"'!==c){u=1;break}f=2}var p=o.keyword(t,f);if(t=p.endPos,0!=p.error){u=1;break}l[e].push({type:f,text:p.text}),s=1}}else s=0}return 2!=s&&(u=1),l.error=u,l.endPos=t,l},pseudoClass:function(t,r){var i,a=this,o=0,u=0,s={};for(s[e]=[],++t;t<a._size;t++){var l=a._text.charAt(t);if(0!=o||!n(l)){if(1==o){if("("!==l){--t;break}0==(i=a.argument(t)).error?c(i[e],function(t,n){var i=n.text;r===!1&&2!==n.type&&(i=i.retype()),s[e].push(i)}):u=1,t=i.endPos;break}u=1;break}if(s.name=(i=a.keyword(t,5)).text,t=i.endPos,0!=i.error){u=1;break}o++}return s.error=u,s.endPos=t,s},attribute:function(e,t){var r=this,n=0,o=0,u={type:0,name:"",operator:""};for(++e;e<r._size;e++){var s=r._text.charAt(e);if(!i(s)){if("]"==s)break;if(0==n){var l=r.keyword(e,4);if(e=l.endPos,0!=l.error){o=l.error;break}u.name=l.text,n++}else if(1==n)if(a(s))u.operator+=s;else{if(""==u.operator){o=1;break}e--,n++}else if(2==n){var c=0;('"'==s||"'"==s)&&(c=2);var f=r.keyword(e,c);if(e=f.endPos,0!=f.error){o=f.error;break}u.type=c,u.value=t===!1&&2!==u.type?f.text.retype():f.text,n++}else if(3==n){o=1;break}}}return u.error=o,u.endPos=e,u}},k:function(e,t){this._text=e,this._size=t===r?e.length:t}}}),x=T.url=m({type:1,f:{encodeURI:function(e){return a(e)||i(e)||T.debug({path:"Std.url",memberType:"static",memberName:"encodeURI",description:"illegal parameter,parameter must be a string or a number"}),encodeURIComponent(e+"")},convert:function(e,t){a(e)&&a(t)||T.debug({path:"Std.url",memberType:"static",memberName:"convert",description:"illegal parameter,parameter must be a string"});var r="",n=x(e),i="";return"http:/"==t.left(6)||"https:/"==t.left(7)?t:a(t)?(n.host&&(i=n.protocol+"://"+n.host,80!=n.port&&(i+=":"+n.port),i+="/"),"./"==t.left(2)&&(t=n.path+t.substr(2)),r="/"===t.charAt(0)?t.substr(1):n.path+t,i+r.replace(/\/\//g,"/")):void 0},param:function(e){if(a(e)||o(e)||T.debug({path:"Std.url",memberType:"static",memberName:"param",description:"illegal parameter,parameter must be a string or an object"}),a(e))return e;var t=[],n=x.encodeURI,i=function(e,a){o(a)?c(a,function(t,r){i(e+"["+t+"]",r)}):a!==r&&t.push(n(e)+"="+n(a))};return c(e,function(e,t){i(e,t)}),t.join("&")},suffix:m({"static":{img:function(e){return"png gif jpg jpeg bmp img tiff ico".split(" ").has(e.toLowerCase())}},main:function(e){a(e)||T.debug({path:"Std.url.suffix",description:"illegal parameter,parameter must be a string"});var t=e.lastIndexOf("."),r=e.length;if(-1!=t&&r-1>t){var n=e.substring(t+1,r);if(-1==n.indexOf("/"))return n}return""}})},j:{protocol:"",host:"",port:80,path:"",file:"",suffix:"",queryString:"",hashString:"",addParam:p(function(e,t){e===r&&T.debug({path:"Std.url",memberType:"public",memberName:"addParam",description:"illegal parameter"});var n,i=this,a="",u="queryString";""!=i[u]&&(i[u]+="&"),o(e)?a=x.param(e):t!==r&&(n={},n[e]=t,a=x.param(n)),i[u]+=a}),toUrl:function(){var e=this,t="",r=e.host,n=e.port,i=e.path;return r&&(t+=e.protocol+"://"+r,80!=n&&(t+=":"+e.port),"/"!==i.charAt(0)&&(i="/"+i)),t+=i+e.file,""!=e.queryString&&(t+="?"+e.queryString),e.hashString&&(t+="#"+e.hashString),t},parse:function(e){a(e)||T.debug({path:"Std.url",memberType:"public",memberName:"parse",description:"illegal parameter"});var t=this,r="",n=e.length,i=e.indexOf("#"),o=0;if(-1!=i&&(t.hashString=e.substring(i+1,n),n=(e=e.substr(0,i)).length),-1==(i=e.indexOf("://",0))?i=0:(t.protocol=e.substr(0,i).toLowerCase(),i+=3,r=-1==(o=e.indexOf("/",i))?e.substr(i,n-i):e.substr(i,o-i),-1==(i=r.indexOf(":",i))?t.host=r:(t.port=~~r.substring(i+1,r.length),t.host=r.substr(0,i))),-1!==o){var u=e.substr(o,(i=e.lastIndexOf("/"))-o);-1==(o=e.indexOf("?",i))?t.file=e.substring(i+1,n):(t.file=e.substring(i+1,o),t.queryString=e.substring(o+1,n)),t.path=""!=u?u+"/":u}return-1!=(i=t.file.lastIndexOf("."))&&(t.suffix=t.file.substring(i+1,t.file.length)),t}},k:function(e){this.parse(e)}}),w=T.template=m({a:"events",e:{url:"",text:"",renderTo:t,element:t,compressLevel:1},f:{fileCaches:{},templates:{},add:p(function(e,t){t instanceof w&&(w.templates[e]=t)},{each:[o]}),remove:p(function(e){e===r?this.clear():a(e)&&delete w.templates[e]},{each:[u]}),clear:p(function(){Object.clear(w.templates)}),clearCache:p(function(){Object.clear(w.fileCaches)})},i:{error:0,loaded:!1,analyze:function(e,t){var r=this;return r.analyzer.analyze(e,function(e){0!=this.error&&(r.error=1,r.emit("error","analyzeError")),n(t)&&t.call(r,e)}),r},compile:function(){var e=this,t=e.compiler.compile();return 0!=e.compiler.error?(e.error=2,e.emit("error","compileError"),!1):t},build:function(e){var r=this;return 0!=r.error||!o(e)&&e!=t?t:r.builder.build(e)},checkout:function(e){var t=this.build(e);return t}},j:{compressLevel:function(e){return this.opt("compressLevel",e)},render:function(e,t){var r=this;return n(t)?(r.loaded?t.call(r,r.checkout(e)):r.once("load",function(){t.call(r,r.checkout(e))}),null):r.checkout(e)},loadFromString:function(e,t){var r=this;return r.loaded=!1,r.analyze(r._tpl=e,function(e){e!==!1&&(r.compile(),r.loaded=!0,r.emit("load"),n(t)&&t.call(r,e))}),r}},k:function(e,n){if(!(this instanceof w))return a(e)?n===r?w.templates[e]||t:new w(e,n):e instanceof w?e:t;var i=this,u=t;i.builder=new w.builder(i.compiler=new w.compiler(i.analyzer=new w.analyzer)),n===r?n=e:w.add(e,i),a(n)?(i.init_opts(),i.loadFromString(n)):o(n)&&((u=i.init_opts(n)).on&&i.on(i.on),u.text&&i.loadFromString(u.text))}}),w.methods={eval:function(e){return"<script>"+e+"</"+"script>"}},w.statements={"#else":function(){return"}else{"},"#elseif":function(e,t){return"}else if("+this.fixCode(e,t)+"){"},"#break":function(){return"break;"},"#continue":function(){return"continue;"},"with":function(e,t,r){return"if(typeof("+this.fixCode(e,t)+")!=='undefined'){"+r+"}"},"if":function(e,t,r){return"if("+this.fixCode(e,t)+"){"+r+"}"},"for":function(e,t,r){return"for("+this.fixCode(e,t)+"){"+r+"}"},"while":function(e,t,r){return"while("+this.fixCode(e,t)+"){"+r+"}"},each:function(e,t,r,n){var i,a,o=[],u=e,s=0,c="";if(-1!==(a=e.indexOf(" as ",1))){u=e.substr(0,a).trim();var f=e.length,p="";for(a+=4;f>a;a++)if(y.blankChar(i=e.charAt(a)));else if(y.alnum(i))p+=i;else{if(","!==i){s=3,c=i;break}o.push(p),p=""}""!==p&&o.push(p)}if(y.validAlNum(u)||(s=4,c=u),l(o)&&(o=["index","value"]),0!==s){var h="";switch(s){case 3:h="illegal char: "+c;break;case 4:h="illegal variable name: "+c}T.debug({path:"Std.template.builder",description:h,line:n.line})}return"Std.each("+this.varName(u,t)+",function("+o.join(",")+"){"+r+"});"}},w.analyzer=m({h:{loading:0,callback:t},i:{parseCode:function(e){var r,n,i=this,a=t,o=0,u={},s=i.tplLength,l=i.parser,c="",f=0;switch(s>e+2&&!y.alnum(i.tpl.charAt(e+2))&&T.debug({path:"Std.template.analyzer",memberType:"private",memberName:"parseCode",description:"syntax error: "+i.tpl.substring(e,e+2),file:this.src,line:i.currentLine,content:i.tpl.line(i.currentLine+1).trim()}),r=i.tpl.charAt(e+1)){case"=":case"$":e++;case"@":case"#":case"/":a=r}for((u.type=a)!==t&&"="!==a&&"$"!==a&&(0==(n=l.keyword(e+2,0)).error?u.keyword=n.text:f=1,e=n.endPos),++e;s>e;e++)if("\n"!==(r=i.tpl.charAt(e))||0!==o)if(";"!==r&&"{"!==r&&"}"!==r)if(0!==o&&y.blankChar(r))"\n"===r&&i.currentLine++;else{if(o=0,"%"===r&&">"===i.tpl.charAt(e+1)){e++;break}if('"'===r||"'"===r){if(e=(n=l.keyword(e,2)).endPos,0!==n.error){f=1;break}c+=r+n.text.escapeString(r)+r}else c+=r}else o=2,c+=r;else o=1,c+="\n",i.currentLine++;return u.text=c.trim(),u.error=f,u.endPos=e,u}},j:{readFile:function(e){var r=this,i=w.fileCaches;if(e in i)return r.result.push(i[e]),r;var a=r.result.push(t),o=new w.analyzer;return o.line=r.currentLine,o.src=e,++r._loading&&Std_ajax({url:e,success:function(t){o.analyze(t,function(){r.result[a-1]=i[e]=this,0===--r._loading&&n(r._callback)&&r._callback.call(r,r.result)})}}),r},append:function(e,t){var r=this;if(0===t)e=e.escapeString("'");else if(1===t&&"@"===e.type&&"include"===e.keyword)return r.readFile(e.text.trim());return r.result.push({type:t,line:r.currentLine,data:e}),r},analyze:function(e,t){var r,i,a,o=this.clear(),u=o.tplLength=e.length,s=o.parser=F(o.tpl=e,u),l="",c=0;for(r=0;u>r;r++)if("<"===(i=e.charAt(r)))if("%"===(i=e.charAt(r+1))){if(r=(a=o.parseCode(r+1)).endPos,0!==a.error){c=1;break}o.append(l,0),o.append(a,1),l=""}else if("!"===i&&"-"===e.charAt(r+2)&&"-"===e.charAt(r+3)){if(r=(a=s.htmlComment(r)).endPos,l+=a.text,0===a.error){c=2;break}o.currentLine+=a.text.count("\n")}else r++,l+="<"+i;else"\n"===i&&o.currentLine++,l+=i;if(0!==c){var f="";1===c?f="illegal syntax: ":2===c&&(f="parse error,html comment unexpected end <!-- : "),T.debug({path:"Std.template.analyzer",memberType:"public",memberName:"analyze",description:f+o.tpl.substring(r,r+2),line:o.currentLine,content:o.tpl.line(o.currentLine+1).trim()})}return o.error=c,o.endPos=r,o.append(l,0),n(t)&&(o._loading>0?o._callback=t:t.call(o,o.result)),o},clear:function(){var e=this;return e._loading=0,e._callback=t,e.endPos=0,e.error=0,e.currentLine=0,e.result.clear(),e}},k:function(){this.result=[]}}),w.builder=m({j:{build:function(e){a(e)&&(e=e.toObject());try{return this.compiler.result(e)}catch(t){}return""}},k:function(e){this.compiler=e}}),w.compiler=m({i:{makeFunction:function(e){var t=e+"\nreturn _print";return t="try{var _line=0;"+e+"\nreturn _print"+"}catch(e){"+"Std.debug({path:'Std.template.builder',line:_line,file:_file,description:e.message})"+"}",T.eval("(function(){return function(_data){var _temp;var _print='';"+t+"}})()")},fixCode:function(e,r){for(var n=this,i=e.length,a=F(e,i),o="",u=n.variables,s=0,l=0;i>l;l++){var c=e.charAt(l),f=t;if(y.blankChar(c))o+=c;else if(";"!==c&&"{"!==c&&"}"!==c&&"&"!==c&&"|"!==c){if('"'===c||"'"===c)f=2;else if(c>="0"&&"9">=c)f=1;else if(y.alnum(c))f=0;else{if(!y.operatorChar(c)){o+=c;continue}f=3,s=0}var p=a.keyword(l,f),h=p.text||"";0===f&&"var"===h&&(s=1),2===f&&(h=c+h.escapeString(c)+c),0===f&&"."!==e.charAt(l-1)?y.keyword(h)?o+=h:0===s||2===s?o+=u.has(h)?h:n.varName(h,r):1===s&&(u.push_uniq(h),o+=h):3===f&&"="===h?(s=2,o+=h):o+=h,2===s&&"="!==h&&(s=1),l=p.endPos}else o+=c,s=0}return o}},j:{varName:function(e,t){return t===r?e:t+"."+e},printText:function(e){return"_print+='"+e+"';"},printVariable:function(e,t){return""===e?e:"if((_temp=("+this.varName(e,t)+")) !== void 0){_print+=_temp}"},compile:function(){return this.result=this.makeFunction(this.compileCode())},compileCode:function(){for(var e=this.clear(),t="",r="",n=e.analyzeLength=e.analyzeResult.length;e.i<n;e.i++)null!==(r=e.compileItem(e.analyzeResult[e.i],"_data"))&&(t+=r);return t},compileMethod:function(e,t,r){var n=w.methods;return t in n?this.printText(n[t](r).escapeString("'")):(T.debug({path:"Std.template.compiler",line:e.line,description:"method "+t+" doesn't exist",content:this.analyzer.tpl.line(e.line+1)}),"_print+="+r+";")},compileLogicSyntax:function(e,t,r){var n,i,a=this,o=t.keyword,u=t.text,s="",l=1,c=o+" "+u,f=w.statements;for("with"===o&&(r=a.fixCode(u,r)),s+="_line="+e.line+";",a.i++;a.i<a.analyzeLength;a.i++){var p=a.analyzeResult[a.i],h=p.data,m=p.type;if("/"===(i=h.type)&&1===m&&h.keyword===o)return o in f||T.debug({path:"Std.template.compiler",line:e.line,description:"syntax error,unknown keyword :"+o,content:c}),f[o].call(a,u,r,s,e);if(1===m&&"#"===i)if(i+(n=h.keyword)in f)s+=f[i+n].call(a,h.text,r);else{if(!f[n]){l=2,c=n;break}s+=a.compileItem(p,r)}else s+=a.compileItem(p,r)}if(0!==l){var d="";switch(l){case 1:d="unexpected end: "+c;break;case 2:d="syntax error,unexpected statement: "+c}T.debug({memberType:"public",memberName:"compileLogicSyntax",path:"Std.template.compiler",line:e.line,description:d,content:this.analyzer.tpl.line(e.line+1)})}return!1},compileItem:function(e,r){var n=this,i=t,a=e.data;if(w.analyzer.iof(e))i=new w.compiler(e).compileCode(),i="var _file='"+e.src+"';"+i+";_file=undefined;";else if(1===e.type){var o=a.type;o?"="===o?i=n.printVariable(a.text,r):"$"===o?i=n.printVariable(a.text):"#"===o?i=n.compileLogicSyntax(e,a,r):"@"===o&&(i=n.compileMethod(e,a.keyword,a.text)):i=a.text+"\n"}else l(a)||(i=n.printText(a));return i&&(i="_line="+e.line+";"+i),i},clear:function(){var e=this;return e.error=e.i=0,e.result="",e.variables=[],e.analyzeResult=e.analyzer.result,e}},k:function(e){var t=this;t.analyzer=e,t.clear()}}),T.selector=S=function(){return{cache:!0,caches:{},cacheSize:0,maxCacheSize:100,parse:function(e,r){var n=0,i=e.length,o=F(e,i),u=function(){for(var t="";i>n;n++){var r=e.charAt(n);if("\n"===r&&(r=" ")," "!==r&&"	"!==r&&">"!==r&&"<"!==r&&"+"!==r&&"~"!==r&&"/"!==r){n--;break}t+=r}return""===(t=t.trim())&&(t=" "),t},s=function(t){var r=":",i=o.pseudoClass(n,!1);return n=i.endPos,0!=i.error?(T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"pseudosClass error",content:e.substr(0,n+1)}),!1):(t[r]||(t[r]={}),t[r][i.name]=i.arguments,void 0)},c=function(t){var r=o.attribute(n,!1),i=r.value;return n=r.endPos,0!=r.error?(T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"attribute error,unexpected end",content:e.substr(0,n+1)}),!1):(t.attr||(t.attr=[]),t.attr.push({name:r.name,operator:r.operator,value:i}),void 0)},f=function(t){var r=e.charAt(++n),a="";if('"'===r||"'"===r){var u=o.keyword(n,2);if(n=u.endPos+1,0!=u.error)return T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"content error",content:e.substr(0,n+1)}),!1;a=u.text}else{var s=o.codeBlockText(n,"{");if(n=s.endPos+1,0!=s.error)return T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"content error",content:e.substr(0,n+1)}),!1;a=s.text}for(;i>n&&"}"!==(r=e.charAt(n));n++)y.blankChar(r)||T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"content error",content:e.substr(0,n+1)});t.content=a},p={"[":c,":":s,"{":f},h=function(t){for(var u,s=0,c={tag:"*","<":t};i>n;n++){var f=e.charAt(n);if("#"===f||"."===f)u=o.keyword(++n,5),n=u.endPos,a(c[f])?c[f]+=" "+u.text:c[f]=u.text;else if("["===f||":"===f||"{"===f){if(p[f](c)===!1)return!1}else if("("===f){if(0!==s)return T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"parse error",content:e.substr(0,n+1)}),!1;n++;var h=d();l(h)||(c.selector=h)}else if("*"===f)if(0===s)c.tag=f;else{if(0!==(u=o.keyword(++n,1)).error)return T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"parse error",content:e.substr(0,n+1)}),!1;n=u.endPos,c[f]=u.text}else if(y.alnum(f)||"-"===f){if(0!==s)return T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"parse error",content:e.substr(0,n+1)}),!1;n=(u=o.keyword(n,5)).endPos,c.tag=r===!1?u.text:u.text.toUpperCase()}else{if('"'!==f&&"'"!==f){n--;break}var m=o.keyword(n,2);if(n=m.endPos,0!=m.error)return T.debug({path:"Std.selector",memberType:"static",memberName:"parse",position:n,description:"parse error",content:e.substr(0,n+1)}),!1;c.tag="",c.text=m.text}s=2}return 0==s?!1:c},m=function(){for(var r=[],a=t;i>n;n++){var o=e.charAt(n);if(","===o||")"===o)break;if("\n"!==o&&" "!==o&&"	"!==o&&">"!==o&&"<"!==o&&"+"!==o&&"~"!==o){var s=h(a);if(s===!1)return s;r.push(s)}else a=u()}return r},d=function(){for(var t=[];i>n;n++){var r=e.charAt(n);if(!y.blankChar(r)&&","!==r){if(")"===r)break;var a=m();if(!a)break;if(l(a)||t.push(a),")"===e.charAt(n))break}}return t};return d()},parseSelector:function(e){var r=t,n=S.caches,i=S.parse;return!S.cache||e.length>50?i(e):(S.cacheSize>S.maxCacheSize&&(S.caches=n={},S.cacheSize=0),e in n?r=n[e]:(S.cacheSize++,r=n[e]=i(e)),r)}}}(),S.html=m({f:{attrText:function(e){var r=e.name,n=e.operator,i=e.value||"";return""===n&&i==t?r:r+n+'"'+i.escapeString('"')+'"'},nodeHtml:function(e,r,n){var i="<"+(e=e.toLowerCase());return c(r,function(e,t){i+=" ",i+=a(t)?t:S.html.attrText(t)}),l(n)&&y.singleTag(e)?i+" />":(i+=">",n!=t&&(i+=n),i+"</"+e+">")},makeNodeHtml:function(e,t){var r="",n="",i=e.tag,a=e["*"],o=e["#"],u=e["."],s=e.attr,l=e[":"],f=e.content,p=[],h=function(e,t){p.push({name:e,operator:"=",value:t})};if("*"===i&&(i="div"),o&&h("id",o),u&&h("class",u),s&&p.mergeArray(s),f&&(n+=f),t&&(n+=t),l&&(c({password:"type"},function(e,t){l[e]&&h(t,e)}),c("checked selected disabled readOnly hideFocus",function(e,t){l[t]&&p.push(t)})),""===i)return e.text;if(a)for(var m=0;a>m;m++)r+=S.html.nodeHtml(i,p,n);else r=S.html.nodeHtml(i,p,n);return r},makeHtml:function(e,r){var n="",i="";r!=t&&(n=i=r);for(var a=e.length-1,o=t;a>=0;a--){var u=0,s=e[a],l="";o&&" "!=o&&">"!=o?("+"==o||"~"==o)&&(u=1,i=r):i=n,s.selector?c(s.selector,function(e,t){l+=S.html.makeHtml(t,i)}):l=S.html.makeNodeHtml(s,i),0==u?n=l:1==u&&(n=l+n),o=s["<"]}return n}},k:function(e,t){e===r&&T.debug({path:"Std.selector.html",description:"illegal parameter"});for(var n="",i=S.parseSelector(e),a=0,o=i.length;o>a;a++)n+=S.html.makeHtml(i[a],t);return n}}),C=T.main=m(function(){var e={},i=new T.holder,a=new g;return{f:{state:!1,holder:i,hold:function(e){this.holder.hold(e)}},k:p(function(o,u){var s=function(){C.state="locked";for(var r=0;10>r;r++){var n=t;if(e[r])for(;n=e[r].shift();)n.call(T,T)}C.state=!0,a.emit("unlock")},l=function(){i.complete(s)};o===r?l():n(o)&&("locked"===C.state?a.once("unlock",function(){C(o,u)}):(e[u=u===r?9:u]||(e[u]=[]),e[u].push(o),l()))})}})}(global,null,void 0,isFunction=function(e){return"function"==typeof e},isNumber=function(e){return"number"==typeof e},isString=function(e){return"string"==typeof e},isObject=function(e){return"object"==typeof e&&null!==e},isArray=function(e){return e instanceof Array},isPlainObject=function(){var e={}.hasOwnProperty,t="constructor";return function(r){if(!isObject(r))return!1;try{if(r[t]&&!e.call(r,t)&&!e.call(r[t].prototype,"isPrototypeOf"))return!1}catch(n){return!1}for(var i in r)if(!e.call(r,i))return!1;return!0}}(),isEmpty=function(e){if(null==e)return!0;if(isPlainObject(e)&&!isArray(e)){for(var t in e)return!1;return!0}return 0===e.length},isBool=function(e){return"boolean"==typeof e},isElement=function(){return!1},isNumeric=function(e){return!isNaN(float(e))&&isFinite(e)},isEqual=function(e,t){if(typeof e!=typeof t)return!1;if(!isObject(e))return e===t;if(isArray(e)){if(e.length!=t.length)return!1;for(var r=0,n=e.length;n>r;r++)if(!isEqual(e[r],t[r]))return!1}else{var i,a=isPlainObject(e);if(a!==isPlainObject(t))return!1;if(!a)return e===t;for(i in e)if(!isEqual(e[i],t[i]))return!1;for(i in t)if(!isEqual(e[i],t[i]))return!1}return!0});